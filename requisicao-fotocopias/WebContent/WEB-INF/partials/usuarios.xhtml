<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<p:messages closable="true" autoUpdate="true" />

	<p:dataTable id="usuarios" value="#{autorizadorBean.usuarios}" var="u"
		emptyMessage="Não há usuários cadastrados!" paginator="true" rows="10"
		paginatorPosition="bottom" style="width: 900px; margin: 10px auto;">
		<p:column headerText="Siape" style="width: 80px; text-align: center;">
			<p:commandLink value="#{u.siape}"
				action="#{autorizadorBean.preparaEdicaoUsuario(u.id)}"
				update=":conteudo" />
		</p:column>
		<p:column headerText="Nome" style="width: 420px;">
			<h:outputText value="#{u.nome}" />
		</p:column>
		<p:column headerText="Opções" style="width: 120px;">
			<p:commandLink value="Autorizar" rendered="#{not u.ativo}"
				action="#{autorizadorBean.autorizarUsuario(u.id)}"
				update=":conteudo" style="padding: 10px;" />

			<p:commandLink value="Rejeitar" rendered="#{u.rejeitado}"
				action="#{autorizadorBean.rejeitarUsuario(u.id)}" update=":conteudo"
				style="padding: 10px;" />

			<p:commandLink value="Desativar" rendered="#{u.ativo}"
				action="#{autorizadorBean.desativarUsuario(u.id)}"
				update=":conteudo" style="padding: 10px;" />
		</p:column>

	</p:dataTable>

</ui:composition>