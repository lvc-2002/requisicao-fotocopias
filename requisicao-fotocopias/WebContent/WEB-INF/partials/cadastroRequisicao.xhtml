<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<h:panelGrid columns="2" style="margin: 0 auto; padding: 20px;">
	
		<p:messages autoUpdate="true" closable="true" />

		<h:panelGrid columns="1">
			<h:panelGrid columns="2">
				<p:outputLabel value="Solicitante: " />
				<p:outputLabel value="Data: " />

				<p:inputText value="#{bean.usuarioLogado.nome}"
					readonly="true" style="width: 400px;" />
				<p:inputText value="#{bean.createDataAtual()}"
					readonly="true" style="width: 100px;">
					<f:convertDateTime pattern="dd/MM/yyyy" />
				</p:inputText>
			</h:panelGrid>

			<h:panelGrid columns="1">
				<p:outputLabel value="Discriminação: " />
				<p:inputTextarea value="#{bean.item.discriminacao}" style="width: 515px;" />
			</h:panelGrid>

		</h:panelGrid>

		<h:panelGrid columns="1">
			<p:outputLabel value="Status: " />
			<p:inputText value="Em Processo" readonly="true" />
			<p:outputLabel value="Quantidade: " />
			<p:inputText type="number" value="#{bean.item.quantidade}" />
			<p:commandButton value="Adicionar" action="#{bean.adicionaItemRequisicao()}" update=":conteudo" />
		</h:panelGrid>

		<p:dataTable value="#{bean.requisicao.itens}" var="i" paginator="true" rows="5" paginatorPosition="bottom">
			<p:column headerText="Item">
				<h:outputLabel value="#{i.numero}" />
			</p:column>
			<p:column headerText="Discriminação">
				<h:outputLabel value="#{i.discriminacao}" />
			</p:column>
			<p:column headerText="Quantidade">
				<h:outputLabel value="#{i.quantidade}" />
			</p:column>
			<p:column headerText="Opções">
				<p:commandButton icon="ui-icon-close" />
			</p:column>
			
		</p:dataTable>
		
		<p:inputText value="#{bean.requisicao.total}" />
		
		<p:commandButton value="Salvar" action="#{bean.salvaRequisicao()}" update=":conteudo" />

	</h:panelGrid>

</ui:composition>